import nltk
import re
import sys
from nltk.probability import FreqDist
from nltk.tokenize import word_tokenize


def malware_name():
    if len(sys.argv) != 3:
        print("NOPE")
        exit()

    sentences = sys.argv[1]
    basename = sys.argv[2].lower().title()

    a = word_tokenize(sentences)
    b = nltk.pos_tag(a)

    nnp = [item[0] for item in b if (item[1] == "NNP" and not item[0] == "'" and len(item[0]) > 1)]
    fd = FreqDist(word.lower() for word in nnp)

    print(sentences)
    print(a)
    print(b)
    print(nnp)
    print(basename)

    topname = ""
    for word, frequency in fd.most_common(10):
        if topname == "":
            topname = word.title()
        elif not basename == "":
            if basename == word.title():
                topname = basename

        # print(u'{};{}'.format(word.title(), frequency))
        # print("{}".format(word.title()))

    print("Name :::: {}".format(topname))


if __name__ == "__main__":
    malware_name()
